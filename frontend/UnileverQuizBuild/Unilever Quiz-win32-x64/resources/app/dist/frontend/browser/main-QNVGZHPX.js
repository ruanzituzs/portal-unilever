import{b as Y,c as w,d as X,e as ee,f as te,j as ne,k as ie,o as oe,p as re}from"./chunk-BDL2EWQC.js";import{a as Fe,d as _e,e as E,f as B,g as Ie,h as Oe}from"./chunk-PYD6WGA3.js";import{a as ze}from"./chunk-PMGH5KPS.js";import{$a as Ue,Ab as I,Ba as l,D as G,Eb as L,F as ue,Fb as Ae,G as T,Gb as Me,H as fe,Hb as De,Ia as g,Ib as R,J as k,M as ge,Ma as U,N as F,O as x,P as he,Qa as b,T as ve,Ta as Ce,U as be,V as c,Va as de,W as u,Wa as Se,X as xe,Xa as p,Ya as e,Za as o,_a as m,a as J,aa as ye,ab as A,bb as M,da as we,db as H,eb as a,f as Z,fb as h,g as W,gb as v,nb as Ee,o as P,ob as ke,u as D,v as le,y as N,yb as $,zb as _}from"./chunk-G2JQ2GAW.js";var me="Service workers are disabled or not supported by this browser",V=class{serviceWorker;worker;registration;events;constructor(s,t){if(this.serviceWorker=s,!s)this.worker=this.events=this.registration=new Z(i=>i.error(new T(5601,!1)));else{let i=null,r=new W;this.worker=new Z(S=>(i!==null&&S.next(i),r.subscribe(q=>S.next(q))));let d=()=>{let{controller:S}=s;S!==null&&(i=S,r.next(i))};s.addEventListener("controllerchange",d),d(),this.registration=this.worker.pipe(G(()=>s.getRegistration().then(S=>{if(!S)throw new T(5601,!1);return S})));let f=new W;this.events=f.asObservable();let C=S=>{let{data:q}=S;q?.type&&f.next(q)};s.addEventListener("message",C),t?.get(de,null,{optional:!0})?.onDestroy(()=>{s.removeEventListener("controllerchange",d),s.removeEventListener("message",C)})}}postMessage(s,t){return new Promise(i=>{this.worker.pipe(N(1)).subscribe(r=>{r.postMessage(J({action:s},t)),i()})})}postMessageWithOperation(s,t,i){let r=this.waitForOperationCompleted(i),d=this.postMessage(s,t);return Promise.all([d,r]).then(([,f])=>f)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(s){let t;return typeof s=="string"?t=i=>i.type===s:t=i=>s.includes(i.type),this.events.pipe(le(t))}nextEventOfType(s){return this.eventsOfType(s).pipe(N(1))}waitForOperationCompleted(s){return new Promise((t,i)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(le(r=>r.nonce===s),N(1),P(r=>{if(r.result!==void 0)return r.result;throw new Error(r.error)})).subscribe({next:t,error:i})})}get isEnabled(){return!!this.serviceWorker}},Ze=(()=>{class n{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new W;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=D,this.notificationClicks=D,this.notificationCloses=D,this.pushSubscriptionChanges=D,this.subscription=D;return}this.messages=this.sw.eventsOfType("PUSH").pipe(P(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(P(r=>r.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(P(r=>r.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(P(r=>r.data)),this.pushManager=this.sw.registration.pipe(P(r=>r.pushManager));let i=this.pushManager.pipe(G(r=>r.getSubscription()));this.subscription=new Z(r=>{let d=i.subscribe(r),f=this.subscriptionChanges.subscribe(r);return()=>{d.unsubscribe(),f.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(me));let i={userVisibleOnly:!0},r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),d=new Uint8Array(new ArrayBuffer(r.length));for(let f=0;f<r.length;f++)d[f]=r.charCodeAt(f);return i.applicationServerKey=d,new Promise((f,C)=>{this.pushManager.pipe(G(Q=>Q.subscribe(i)),N(1)).subscribe({next:Q=>{this.subscriptionChanges.next(Q),f(Q)},error:C})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(me));let t=i=>{if(i===null)throw new T(5602,!1);return i.unsubscribe().then(r=>{if(!r)throw new T(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((i,r)=>{this.subscription.pipe(N(1),G(t)).subscribe({next:i,error:r})})}decodeBase64(t){return atob(t)}static \u0275fac=function(i){return new(i||n)(F(V))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),We=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=D,this.unrecoverable=D;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(me));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let t=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new T(5601,!1));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(i){return new(i||n)(F(V))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),Te=new ge("");function $e(){let n=x(K);if(!("serviceWorker"in navigator&&n.enabled!==!1))return;let s=x(Te),t=x(ye),i=x(de);t.runOutsideAngular(()=>{let r=navigator.serviceWorker,d=()=>r.controller?.postMessage({action:"INITIALIZE"});r.addEventListener("controllerchange",d),i.onDestroy(()=>{r.removeEventListener("controllerchange",d)})}),t.runOutsideAngular(()=>{let r,{registrationStrategy:d}=n;if(typeof d=="function")r=new Promise(f=>d().subscribe(()=>f()));else{let[f,...C]=(d||"registerWhenStable:30000").split(":");switch(f){case"registerImmediately":r=Promise.resolve();break;case"registerWithDelay":r=Pe(+C[0]||0);break;case"registerWhenStable":r=Promise.race([i.whenStable(),Pe(+C[0])]);break;default:throw new T(5600,!1)}}r.then(()=>{i.destroyed||navigator.serviceWorker.register(s,{scope:n.scope,updateViaCache:n.updateViaCache,type:n.type}).catch(f=>console.error(fe(5604,!1)))})})}function Pe(n){return new Promise(s=>setTimeout(s,n))}function Ye(){let n=x(K),s=x(xe),t=!0;return new V(t&&n.enabled!==!1?navigator.serviceWorker:void 0,s)}var K=class{enabled;updateViaCache;type;scope;registrationStrategy};function je(n,s={}){return he([Ze,We,{provide:Te,useValue:n},{provide:K,useValue:s},{provide:V,useFactory:Ye},Ce($e)])}var j=class extends Error{};j.prototype.name="InvalidTokenError";function Xe(n){return decodeURIComponent(atob(n).replace(/(.)/g,(s,t)=>{let i=t.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}function et(n){let s=n.replace(/-/g,"+").replace(/_/g,"/");switch(s.length%4){case 0:break;case 2:s+="==";break;case 3:s+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Xe(s)}catch{return atob(s)}}function ae(n,s){if(typeof n!="string")throw new j("Invalid token specified: must be a string");s||(s={});let t=s.header===!0?0:1,i=n.split(".")[t];if(typeof i!="string")throw new j(`Invalid token specified: missing part #${t+1}`);let r;try{r=et(i)}catch(d){throw new j(`Invalid token specified: invalid base64 for part #${t+1} (${d.message})`)}try{return JSON.parse(r)}catch(d){throw new j(`Invalid token specified: invalid json for part #${t+1} (${d.message})`)}}var y=(()=>{class n{http;apiUrl=R.apiUrl+"/auth";constructor(t){this.http=t}login(t){return this.http.post(`${this.apiUrl}/login`,t).pipe(ue(i=>{i.access_token&&localStorage.setItem("token",i.access_token)}))}register(t){return this.http.post(`${this.apiUrl}/register`,t)}logout(){localStorage.removeItem("token")}getToken(){return localStorage.getItem("token")}decodeToken(t){try{return ae(t)}catch{return null}}static \u0275fac=function(i){return new(i||n)(F(L))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nt(n,s){n&1&&(e(0,"div",26)(1,"span"),a(2,"Digite um e-mail corporativo v\xE1lido"),o()())}function it(n,s){if(n&1&&(e(0,"div",27),a(1),o()),n&2){let t=M();l(),v(" ",t.error," ")}}function ot(n,s){n&1&&(e(0,"div",28),a(1," Iniciando o banco de dados na nuvem..."),m(2,"br"),e(3,"span",29),a(4,"Isso pode levar at\xE9 50 segundos no primeiro acesso do dia."),o()())}function rt(n,s){n&1&&(e(0,"span"),a(1,"Acessar Plataforma"),o())}function at(n,s){n&1&&(e(0,"span"),a(1,"Autenticando..."),o())}var Le=(()=>{class n{fb;authService;router;loginForm;error="";loading=!1;slowServerWarning=!1;loadingTimeout;constructor(t,i,r){this.fb=t,this.authService=i,this.router=r,this.loginForm=this.fb.group({email:["",[w.required,w.email]],password:["",w.required]})}onSubmit(){this.loginForm.valid&&(this.loading=!0,this.error="",this.slowServerWarning=!1,this.authService.logout(),this.loadingTimeout=setTimeout(()=>{this.loading&&(this.slowServerWarning=!0)},5e3),this.authService.login(this.loginForm.value).subscribe({next:()=>{clearTimeout(this.loadingTimeout);let t=this.authService.getToken();if(t){let i=this.authService.decodeToken(t);i&&i.role==="MANAGER"?this.router.navigate(["/admin"]):this.router.navigate(["/dashboard"])}},error:t=>{clearTimeout(this.loadingTimeout),this.error="Falha no login. Verifique suas credenciais.",this.loading=!1,this.slowServerWarning=!1,console.error(t)}}))}static \u0275fac=function(i){return new(i||n)(g(oe),g(y),g(E))};static \u0275cmp=U({type:n,selectors:[["app-login"]],decls:39,vars:7,consts:[[1,"login-container"],[1,"bg-mesh"],[1,"geo-overlay"],[1,"login-card"],[1,"logo-area"],[1,"logo-circle"],["src","/logo.png","alt","U"],[1,"app-title"],[1,"app-subtitle"],[3,"ngSubmit","formGroup"],[1,"form-group"],["id","email","type","email","formControlName","email","placeholder","E-mail Corporativo",1,"form-input"],["width","20","height","20","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"input-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"],["class","error-tag",4,"ngIf"],["id","password","type","password","formControlName","password","placeholder","Sua Senha",1,"form-input"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],["class","error-tag","style","justify-content: center; margin-bottom: 1rem;",4,"ngIf"],["class","bg-blue-500/20 border border-blue-500/50 text-blue-100 text-sm p-3 rounded-lg mb-4 text-center leading-relaxed font-semibold animate-pulse",4,"ngIf"],["type","submit",1,"btn-submit",3,"disabled"],[4,"ngIf"],[1,"text-center","mt-4"],[1,"text-xs","text-slate-500"],["routerLink","/register",1,"text-[#1F36C7]","font-bold","hover:underline","cursor-pointer"],[1,"login-footer"],[1,"pill-nav"],[1,"error-tag"],[1,"error-tag",2,"justify-content","center","margin-bottom","1rem"],[1,"bg-blue-500/20","border","border-blue-500/50","text-blue-100","text-sm","p-3","rounded-lg","mb-4","text-center","leading-relaxed","font-semibold","animate-pulse"],[1,"text-xs","text-blue-200","mt-1","block","font-normal"]],template:function(i,r){if(i&1&&(e(0,"div",0),m(1,"div",1)(2,"div",2),e(3,"div",3)(4,"div",4)(5,"div",5),m(6,"img",6),o(),e(7,"h1",7),a(8,"Unilever Corporate"),o(),e(9,"p",8),a(10,"Acesso Seguro Colaborador"),o()(),e(11,"form",9),A("ngSubmit",function(){return r.onSubmit()}),e(12,"div",10),m(13,"input",11),c(),e(14,"svg",12),m(15,"path",13),o(),b(16,nt,3,0,"div",14),o(),u(),e(17,"div",10),m(18,"input",15),c(),e(19,"svg",12),m(20,"path",16),o()(),b(21,it,2,1,"div",17)(22,ot,5,0,"div",18),u(),e(23,"button",19),b(24,rt,2,0,"span",20)(25,at,2,0,"span",20),o(),e(26,"div",21)(27,"p",22),a(28," Novo colaborador? "),e(29,"a",23),a(30,"Criar Conta"),o()()(),e(31,"div",24)(32,"ul",25)(33,"li"),a(34,"Suporte"),o(),e(35,"li"),a(36,"Privacidade"),o(),e(37,"li"),a(38,"Termos"),o()()()()()()),i&2){let d;l(11),p("formGroup",r.loginForm),l(5),p("ngIf",((d=r.loginForm.get("email"))==null?null:d.touched)&&((d=r.loginForm.get("email"))==null?null:d.invalid)),l(5),p("ngIf",r.error),l(),p("ngIf",r.slowServerWarning),l(),p("disabled",r.loading||r.loginForm.invalid),l(),p("ngIf",!r.loading),l(),p("ngIf",r.loading)}},dependencies:[I,_,re,te,Y,X,ee,ie,ne,B],styles:['@charset "UTF-8";@font-face{font-family:Plus Jakarta Sans;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/plusjakartasans/v12/LDIoaomQNQcsA88c7O9yZ4KMCoOg4Ko70yyygA.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Plus Jakarta Sans;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/plusjakartasans/v12/LDIoaomQNQcsA88c7O9yZ4KMCoOg4Ko50yyygA.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Plus Jakarta Sans;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/plusjakartasans/v12/LDIoaomQNQcsA88c7O9yZ4KMCoOg4Ko40yyygA.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Plus Jakarta Sans;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/plusjakartasans/v12/LDIoaomQNQcsA88c7O9yZ4KMCoOg4Ko20yw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Plus Jakarta Sans;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/plusjakartasans/v12/LDIoaomQNQcsA88c7O9yZ4KMCoOg4Ko70yyygA.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Plus Jakarta Sans;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/plusjakartasans/v12/LDIoaomQNQcsA88c7O9yZ4KMCoOg4Ko50yyygA.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Plus Jakarta Sans;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/plusjakartasans/v12/LDIoaomQNQcsA88c7O9yZ4KMCoOg4Ko40yyygA.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Plus Jakarta Sans;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/plusjakartasans/v12/LDIoaomQNQcsA88c7O9yZ4KMCoOg4Ko20yw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Plus Jakarta Sans;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/plusjakartasans/v12/LDIoaomQNQcsA88c7O9yZ4KMCoOg4Ko70yyygA.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Plus Jakarta Sans;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/plusjakartasans/v12/LDIoaomQNQcsA88c7O9yZ4KMCoOg4Ko50yyygA.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Plus Jakarta Sans;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/plusjakartasans/v12/LDIoaomQNQcsA88c7O9yZ4KMCoOg4Ko40yyygA.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Plus Jakarta Sans;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/plusjakartasans/v12/LDIoaomQNQcsA88c7O9yZ4KMCoOg4Ko20yw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Plus Jakarta Sans;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/plusjakartasans/v12/LDIoaomQNQcsA88c7O9yZ4KMCoOg4Ko70yyygA.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Plus Jakarta Sans;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/plusjakartasans/v12/LDIoaomQNQcsA88c7O9yZ4KMCoOg4Ko50yyygA.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Plus Jakarta Sans;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/plusjakartasans/v12/LDIoaomQNQcsA88c7O9yZ4KMCoOg4Ko40yyygA.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Plus Jakarta Sans;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/plusjakartasans/v12/LDIoaomQNQcsA88c7O9yZ4KMCoOg4Ko20yw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Plus Jakarta Sans;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/plusjakartasans/v12/LDIoaomQNQcsA88c7O9yZ4KMCoOg4Ko70yyygA.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Plus Jakarta Sans;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/plusjakartasans/v12/LDIoaomQNQcsA88c7O9yZ4KMCoOg4Ko50yyygA.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Plus Jakarta Sans;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/plusjakartasans/v12/LDIoaomQNQcsA88c7O9yZ4KMCoOg4Ko40yyygA.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Plus Jakarta Sans;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/plusjakartasans/v12/LDIoaomQNQcsA88c7O9yZ4KMCoOg4Ko20yw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_ngcontent-%COMP%]:root{--primary-blue: #1F36C7;--dark-blue: #0A1E50;--accent-blue: #4B5FD9;--text-primary: #111827;--text-secondary: #6B7280;--surface-white: rgba(255, 255, 255, .95)}body[_ngcontent-%COMP%]{font-family:Plus Jakarta Sans,sans-serif}.login-container[_ngcontent-%COMP%]{position:relative;min-height:100vh;display:flex;align-items:center;justify-content:center;overflow:hidden;background-color:#f8fafc}.bg-mesh[_ngcontent-%COMP%]{position:absolute;inset:-50%;width:200%;height:200%;background:radial-gradient(at 50% 50%,rgba(31,54,199,.1) 0px,transparent 50%),radial-gradient(at 0% 0%,rgba(75,95,217,.1) 0px,transparent 50%),radial-gradient(at 100% 100%,rgba(10,30,80,.1) 0px,transparent 50%);background-size:100% 100%;animation:_ngcontent-%COMP%_meshMove 20s ease infinite alternate;z-index:0}@keyframes _ngcontent-%COMP%_meshMove{0%{transform:translate(0) scale(1)}50%{transform:translate(-2%,-2%) scale(1.05)}to{transform:translate(2%,2%) scale(1)}}.geo-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:linear-gradient(rgba(0,0,0,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(0,0,0,.03) 1px,transparent 1px);background-size:50px 50px;-webkit-mask-image:radial-gradient(circle at center,black 40%,transparent 90%);mask-image:radial-gradient(circle at center,black 40%,transparent 90%);z-index:1}.login-card[_ngcontent-%COMP%]{position:relative;z-index:10;width:100%;max-width:420px;background:var(--surface-white);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-radius:24px;padding:40px;box-shadow:0 25px 50px -12px #00000080,0 0 0 1px #ffffff1a,inset 0 0 0 1px #fff6;animation:_ngcontent-%COMP%_cardSlideUp .8s cubic-bezier(.16,1,.3,1);transform:translateY(0)}@keyframes _ngcontent-%COMP%_cardSlideUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}.logo-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:2rem}.logo-circle[_ngcontent-%COMP%]{width:80px;height:80px;background:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 10px 25px -5px #1f36c733;margin-bottom:1.5rem;position:relative}.logo-circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:45px;height:auto}.logo-circle[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:-4px;border-radius:50%;background:linear-gradient(135deg,var(--primary-blue),transparent);opacity:.3;z-index:-1;animation:_ngcontent-%COMP%_spin 10s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.app-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:var(--text-primary);margin:0;letter-spacing:-.03em}.app-subtitle[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-secondary);font-weight:500;margin-top:.25rem}.form-group[_ngcontent-%COMP%]{position:relative;margin-bottom:1.5rem}.form-input[_ngcontent-%COMP%]{width:100%;padding:1rem 1rem 1rem 3rem;font-size:.95rem;background:#f3f4f6;border:2px solid transparent;border-radius:12px;color:var(--text-primary);transition:all .2s ease;font-weight:500}.form-input[_ngcontent-%COMP%]:placeholder-shown{background:#f9fafb}.form-input[_ngcontent-%COMP%]:focus{background:#fff;border-color:var(--primary-blue);box-shadow:0 0 0 4px #1f36c71a;outline:none}.input-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#9ca3af;transition:color .2s;pointer-events:none}.form-input[_ngcontent-%COMP%]:focus ~ .input-icon[_ngcontent-%COMP%]{color:var(--primary-blue)}.error-tag[_ngcontent-%COMP%]{color:#dc2626;font-size:.75rem;margin-top:.5rem;display:flex;align-items:center;gap:.25rem;animation:_ngcontent-%COMP%_shake .4s ease-in-out}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:1rem;background:linear-gradient(135deg,#1f36c7,#162899);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;position:relative;overflow:hidden;transition:transform .2s,box-shadow .2s;box-shadow:0 10px 20px -5px #1f36c766}.btn-submit[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 15px 30px -5px #1f36c780}.btn-submit[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-submit[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1}.btn-submit[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.btn-submit[_ngcontent-%COMP%]:hover:before{left:100%}.login-footer[_ngcontent-%COMP%]{text-align:center;margin-top:2.5rem;opacity:.6}.pill-nav[_ngcontent-%COMP%]{display:inline-flex;gap:1.5rem;list-style:none;padding:0;margin:0}.pill-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;color:var(--text-secondary);position:relative}.pill-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child):after{content:"\\2022";position:absolute;right:-.9rem;color:#d1d5db}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-4px)}75%{transform:translate(4px)}}@media(prefers-reduced-motion:reduce){.bg-mesh[_ngcontent-%COMP%], .logo-circle[_ngcontent-%COMP%]:after, .login-card[_ngcontent-%COMP%]{animation:none}}*[_ngcontent-%COMP%]{box-sizing:border-box}']})}return n})();function st(n,s){if(n&1&&(e(0,"div",26),c(),e(1,"svg",27),m(2,"path",28),o(),a(3),o()),n&2){let t=M();l(3),v(" ",t.error," ")}}function lt(n,s){n&1&&(e(0,"span"),a(1,"Criar Conta"),o())}function dt(n,s){n&1&&(e(0,"span",29),c(),e(1,"svg",30),m(2,"circle",31)(3,"path",32),o(),a(4," Processando... "),o())}var Be=(()=>{class n{fb;authService;router;registerForm;loading=!1;error="";constructor(t,i,r){this.fb=t,this.authService=i,this.router=r,this.registerForm=this.fb.group({name:["",w.required],email:["",[w.required,w.email]],password:["",[w.required,w.minLength(6)]],accessCode:["",w.required]})}onSubmit(){if(this.registerForm.valid){this.loading=!0,this.error="";let t=J({},this.registerForm.value);this.authService.register(t).subscribe({next:()=>{alert("Cadastro realizado com sucesso! Fa\xE7a login para continuar."),this.router.navigate(["/login"])},error:i=>{this.loading=!1,console.error(i),i.error&&i.error.message?this.error=i.error.message:this.error="Erro ao realizar cadastro. Verifique o C\xF3digo de Acesso."}})}}static \u0275fac=function(i){return new(i||n)(g(oe),g(y),g(E))};static \u0275cmp=U({type:n,selectors:[["app-register"]],decls:41,vars:5,consts:[[1,"min-h-screen","bg-pattern-organic","flex","items-center","justify-center","p-4"],[1,"max-w-md","w-full","bg-white","rounded-2xl","shadow-xl","overflow-hidden","animate-enter"],[1,"bg-white","border-b","border-slate-200","p-8","text-center","relative","overflow-hidden"],["src","/logo.png","alt","Unilever",1,"h-16","w-auto","mx-auto","mb-4","relative","z-10"],[1,"text-2xl","font-bold","text-[#101c4f]","relative","z-10"],[1,"text-slate-500","text-sm","mt-2","relative","z-10"],[1,"p-8"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"block","text-sm","font-medium","text-slate-700","mb-1"],["type","text","formControlName","name","placeholder","Seu nome",1,"w-full","px-4","py-3","rounded-lg","border","border-slate-300","focus:border-[#1F36C7]","focus:ring-4","focus:ring-blue-50","transition-all","outline-none"],["type","email","formControlName","email","placeholder","seu.email@unilever.com",1,"w-full","px-4","py-3","rounded-lg","border","border-slate-300","focus:border-[#1F36C7]","focus:ring-4","focus:ring-blue-50","transition-all","outline-none"],[1,"flex","justify-between","items-center","mb-1"],[1,"block","text-sm","font-medium","text-slate-700"],[1,"text-xs","text-[#1F36C7]"],[1,"relative"],["type","text","formControlName","accessCode","placeholder","C\xD3DIGO EMPRESA",1,"w-full","pl-10","pr-4","py-3","rounded-lg","border","border-slate-300","focus:border-[#1F36C7]","focus:ring-4","focus:ring-blue-50","transition-all","outline-none","font-mono","tracking-wider","uppercase"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-slate-400","absolute","left-3","top-3.5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],["type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","px-4","py-3","rounded-lg","border","border-slate-300","focus:border-[#1F36C7]","focus:ring-4","focus:ring-blue-50","transition-all","outline-none"],["class","p-4 bg-red-50 text-red-600 text-sm rounded-lg flex items-center animate-fade-in",4,"ngIf"],["type","submit",1,"w-full","btn","btn-primary","py-3","justify-center","text-lg","disabled:opacity-70","disabled:cursor-not-allowed",3,"disabled"],[4,"ngIf"],["class","flex items-center",4,"ngIf"],[1,"text-center","mt-6"],[1,"text-sm","text-slate-600"],["routerLink","/login",1,"text-[#1F36C7]","font-semibold","hover:underline"],[1,"p-4","bg-red-50","text-red-600","text-sm","rounded-lg","flex","items-center","animate-fade-in"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"flex","items-center"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(i,r){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),m(3,"img",3),e(4,"h2",4),a(5,"Novo Cadastro"),o(),e(6,"p",5),a(7,"Junte-se ao portal de conhecimento."),o()(),e(8,"div",6)(9,"form",7),A("ngSubmit",function(){return r.onSubmit()}),e(10,"div")(11,"label",8),a(12,"Nome Completo"),o(),m(13,"input",9),o(),e(14,"div")(15,"label",8),a(16,"Email Corporativo"),o(),m(17,"input",10),o(),e(18,"div")(19,"div",11)(20,"label",12),a(21,"C\xF3digo de Acesso"),o(),e(22,"span",13),a(23,"Exclusivo para funcion\xE1rios"),o()(),e(24,"div",14),m(25,"input",15),c(),e(26,"svg",16),m(27,"path",17),o()()(),u(),e(28,"div")(29,"label",8),a(30,"Senha"),o(),m(31,"input",18),o(),b(32,st,4,1,"div",19),e(33,"button",20),b(34,lt,2,0,"span",21)(35,dt,5,0,"span",22),o(),e(36,"div",23)(37,"p",24),a(38," J\xE1 possui uma conta? "),e(39,"a",25),a(40,"Fazer Login"),o()()()()()()()),i&2&&(l(9),p("formGroup",r.registerForm),l(23),p("ngIf",r.error),l(),p("disabled",r.registerForm.invalid||r.loading),l(),p("ngIf",!r.loading),l(),p("ngIf",r.loading))},dependencies:[I,_,re,te,Y,X,ee,ie,ne,B],encapsulation:2})}return n})();var Re=(()=>{class n{http;apiUrl=`${R.apiUrl}/analytics`;constructor(t){this.http=t}getDashboardStats(){return this.http.get(`${this.apiUrl}/dashboard`)}static \u0275fac=function(i){return new(i||n)(F(L))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ct(n,s){n&1&&m(0,"span",65)}function pt(n,s){if(n&1&&(e(0,"a",60),c(),e(1,"svg",61),m(2,"path",62),o(),u(),e(3,"span",63),a(4),o(),b(5,ct,1,0,"span",64),o()),n&2){let t=s.$implicit,i=M();H("bg-slate-100",i.isActive(t.link)),p("routerLink",t.link),l(2),Se("d",i.getIcon(t.icon)),l(2),h(t.label),l(),p("ngIf",i.isActive(t.link))}}var Ve=(()=>{class n{authService;analyticsService;router;stats={totalUsers:0,totalQuizzes:0,totalAttempts:0,averageScore:0};menuItems=[{label:"Vis\xE3o Geral",icon:"home",link:"/admin"},{label:"Gerenciar V\xEDdeos",icon:"video-camera",link:"/admin/videos"},{label:"Gerenciar Quizzes",icon:"pencil-alt",link:"/admin/quizzes"},{label:"Relat\xF3rios",icon:"chart-bar",link:"/admin/reports"}];constructor(t,i,r){this.authService=t,this.analyticsService=i,this.router=r}ngOnInit(){this.analyticsService.getDashboardStats().subscribe(t=>{this.stats=t})}isActive(t){return this.router.url===t}getIcon(t){let i={home:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6","video-camera":"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z","pencil-alt":"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z","chart-bar":"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"};return i[t]||i.home}logout(){this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(i){return new(i||n)(g(y),g(Re),g(E))};static \u0275cmp=U({type:n,selectors:[["app-admin-dashboard"]],decls:116,vars:5,consts:[[1,"min-h-screen","bg-surface-main","flex","font-sans","text-slate-800"],[1,"hidden","md:flex","flex-col","w-64","bg-white","text-slate-800","shadow-xl","z-20","border-r","border-slate-200"],[1,"h-20","flex","items-center","px-6","border-b","border-slate-200"],["src","/logo.png","alt","Unilever",1,"h-10","w-auto"],[1,"ml-3","font-bold","tracking-wide","text-lg","text-[#101c4f]"],[1,"text-[#37b789]"],[1,"flex-1","py-6","px-4","space-y-2"],["class","flex items-center px-4 py-3 rounded-xl transition-all duration-200 hover:bg-slate-50 group",3,"routerLink","bg-slate-100",4,"ngFor","ngForOf"],[1,"p-4","border-t","border-slate-200","bg-slate-50"],[1,"flex","items-center","gap-3","mb-4"],[1,"w-10","h-10","rounded-full","bg-[#4B5FD9]","flex","items-center","justify-center","font-bold"],[1,"text-sm","font-semibold"],[1,"text-xs","text-slate-400"],[1,"w-full","btn","border","border-slate-300","text-slate-700","hover:bg-red-500","hover:border-red-500","hover:text-white","justify-center","text-sm",3,"click"],[1,"flex-1","flex","flex-col","overflow-hidden","bg-pattern-organic","relative"],[1,"h-20","header-glass","flex","items-center","justify-between","px-8","z-10","sticky","top-0"],[1,"text-2xl","font-bold","text-[#101c4f]"],[1,"text-xs","text-slate-500","text-sm","mt-1"],[1,"flex","items-center","gap-4"],[1,"p-2","rounded-full","hover:bg-slate-100","relative","text-slate-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"],[1,"absolute","top-1.5","right-1.5","w-2","h-2","bg-red-500","rounded-full","border-2","border-white"],[1,"flex-1","overflow-y-auto","p-8","animate-enter"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],[1,"card","p-6","flex","items-start","justify-between"],[1,"text-slate-500","text-sm","font-medium","mb-1"],[1,"text-3xl","font-bold","text-[#101c4f]"],[1,"text-green-600","text-xs","font-semibold","mt-2","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"],[1,"p-3","bg-blue-50","text-[#1F36C7]","rounded-xl"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0z"],[1,"text-slate-400","text-xs","mt-2"],[1,"p-3","bg-purple-50","text-purple-600","rounded-xl"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"p-3","bg-green-50","text-green-600","rounded-xl"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"p-3","bg-orange-50","text-orange-500","rounded-xl"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 10V3L4 14h7v7l9-11h-7z"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8","mb-8"],[1,"card","p-8","flex","items-center","justify-between","group","cursor-pointer","hover:border-[#1F36C7]","transition-all","relative","overflow-hidden"],[1,"relative","z-10"],[1,"text-xl","font-bold","text-[#101c4f]","mb-2"],[1,"text-slate-500","mb-6","max-w-sm"],["routerLink","/admin/quizzes/criar",1,"btn","btn-primary"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 8l4 4m0 0l-4 4m4-4H3"],[1,"w-32","h-32","bg-blue-50","rounded-full","flex","items-center","justify-center","group-hover:scale-110","transition-transform","duration-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","text-[#1F36C7]"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"card","p-8","flex","items-center","justify-between","group","cursor-pointer","hover:border-[#37b789]","transition-all","relative","overflow-hidden"],["routerLink","/admin/videos",1,"btn","btn-outline"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"],[1,"w-32","h-32","bg-green-50","rounded-full","flex","items-center","justify-center","group-hover:scale-110","transition-transform","duration-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","text-[#37b789]"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"card","p-12","text-center","border-dashed","border-2","border-slate-200","shadow-none","bg-transparent"],[1,"text-slate-400","text-sm"],[1,"flex","items-center","px-4","py-3","rounded-xl","transition-all","duration-200","hover:bg-slate-50","group",3,"routerLink"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","opacity-70","group-hover:opacity-100","transition-opacity"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[1,"ml-3","font-medium"],["class","ml-auto w-1.5 h-1.5 rounded-full bg-[#37b789]",4,"ngIf"],[1,"ml-auto","w-1.5","h-1.5","rounded-full","bg-[#37b789]"]],template:function(i,r){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),m(3,"img",3),e(4,"div",4),a(5,"Admin"),e(6,"span",5),a(7,"."),o()()(),e(8,"nav",6),b(9,pt,6,6,"a",7),o(),e(10,"div",8)(11,"div",9)(12,"div",10),a(13,"G"),o(),e(14,"div")(15,"div",11),a(16,"Gestor Admin"),o(),e(17,"div",12),a(18,"admin@unilever.com"),o()()(),e(19,"button",13),A("click",function(){return r.logout()}),a(20," Sair da Plataforma "),o()()(),e(21,"div",14)(22,"header",15)(23,"div")(24,"h1",16),a(25,"Vis\xE3o Geral"),o(),e(26,"p",17),a(27,"Bem-vindo ao painel corporativo"),o()(),e(28,"div",18)(29,"button",19),c(),e(30,"svg",20),m(31,"path",21),o(),u(),m(32,"span",22),o()()(),e(33,"main",23)(34,"div",24)(35,"div",25)(36,"div")(37,"div",26),a(38,"Total Colaboradores"),o(),e(39,"div",27),a(40),o(),e(41,"div",28),c(),e(42,"svg",29),m(43,"path",30),o(),a(44," +12% este m\xEAs "),o()(),u(),e(45,"div",31),c(),e(46,"svg",20),m(47,"path",32),o()()(),u(),e(48,"div",25)(49,"div")(50,"div",26),a(51,"Quizzes Ativos"),o(),e(52,"div",27),a(53),o(),e(54,"div",33),a(55,"3 rascunhos"),o()(),e(56,"div",34),c(),e(57,"svg",20),m(58,"path",35),o()()(),u(),e(59,"div",25)(60,"div")(61,"div",26),a(62,"Taxa de Conclus\xE3o"),o(),e(63,"div",27),a(64),o(),e(65,"div",28),c(),e(66,"svg",29),m(67,"path",30),o(),a(68," +5% vs m\xEAs anterior "),o()(),u(),e(69,"div",36),c(),e(70,"svg",20),m(71,"path",37),o()()(),u(),e(72,"div",25)(73,"div")(74,"div",26),a(75,"M\xE9dia de Notas"),o(),e(76,"div",27),a(77),o(),e(78,"div",33),a(79,"Meta: 80%"),o()(),e(80,"div",38),c(),e(81,"svg",20),m(82,"path",39),o()()()(),u(),e(83,"div",40)(84,"div",41)(85,"div",42)(86,"h3",43),a(87,"Novo Quiz Corporativo"),o(),e(88,"p",44),a(89,"Crie avalia\xE7\xF5es de conhecimento alinhadas com as metas de sustentabilidade."),o(),e(90,"a",45)(91,"span"),a(92,"Iniciar Cria\xE7\xE3o"),o(),c(),e(93,"svg",46),m(94,"path",47),o()()(),u(),e(95,"div",48),c(),e(96,"svg",49),m(97,"path",50),o()()(),u(),e(98,"div",51)(99,"div",42)(100,"h3",43),a(101,"Treinamento em V\xEDdeo"),o(),e(102,"p",44),a(103,"Carregue novos materiais de v\xEDdeo para a biblioteca de aprendizado."),o(),e(104,"a",52)(105,"span"),a(106,"Gerenciar V\xEDdeos"),o(),c(),e(107,"svg",46),m(108,"path",53),o()()(),u(),e(109,"div",54),c(),e(110,"svg",55),m(111,"path",56)(112,"path",57),o()()()(),u(),e(113,"div",58)(114,"p",59),a(115,"Selecione uma op\xE7\xE3o no menu lateral para visualizar mais detalhes."),o()()()()()),i&2&&(l(9),p("ngForOf",r.menuItems),l(31),h(r.stats.totalUsers),l(13),h(r.stats.totalQuizzes),l(11),v("",r.stats.totalAttempts>0?"87%":"0%"," "),l(13),v("",r.stats.averageScore,"%"))},dependencies:[I,$,_,B],encapsulation:2})}return n})();var Qe=(()=>{class n{http;apiUrl=`${R.apiUrl}/gamification`;constructor(t){this.http=t}getLeaderboard(t=10){return this.http.get(`${this.apiUrl}/leaderboard?limit=${t}`)}getMyStats(){return this.http.get(`${this.apiUrl}/my-stats`)}static \u0275fac=function(i){return new(i||n)(F(L))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ft(n,s){if(n&1){let t=Ue();e(0,"div",51),m(1,"div",52),e(2,"div",53)(3,"div",54)(4,"span",35),a(5,"Corporativo"),o(),e(6,"span",55),c(),e(7,"svg",56),m(8,"path",57),o(),a(9," 10 min "),o()(),u(),e(10,"h3",58),a(11),o(),e(12,"p",59),a(13),o(),e(14,"div",60)(15,"div",61)(16,"span"),a(17,"Quest\xF5es: "),e(18,"strong",62),a(19),o()()(),e(20,"button",63),A("click",function(){let r=ve(t).$implicit,d=M();return be(d.startQuiz(r.id))}),a(21," Iniciar Avalia\xE7\xE3o "),o()()()()}if(n&2){let t=s.$implicit;l(11),v(" ",t.title),l(2),h(t.description||"Teste seus conhecimentos sobre as novas pol\xEDticas globais de sustentabilidade."),l(6),h(t.questions==null?null:t.questions.length)}}function gt(n,s){n&1&&(e(0,"div",64)(1,"div",65),c(),e(2,"svg",66),m(3,"path",67),o()(),u(),e(4,"h3",68),a(5,"Tudo em dia!"),o(),e(6,"p",69),a(7,"Voc\xEA completou todos os quizzes dispon\xEDveis."),o()())}function ht(n,s){if(n&1&&(e(0,"div",70)(1,"div",71),a(2),o(),e(3,"div",72),a(4),o(),e(5,"div",73)(6,"div",74),a(7),o(),e(8,"div",75),a(9),o()(),e(10,"div",76),a(11),o()()),n&2){let t=s.$implicit,i=s.index;l(),H("text-yellow-500",i===0)("text-slate-400",i===1)("text-orange-400",i===2)("text-slate-600",i>2),l(),v(" ",i+1," "),l(),H("bg-yellow-100",i===0)("text-yellow-700",i===0)("bg-slate-100",i!==0)("text-slate-600",i!==0),l(),v(" ",t.name.charAt(0)," "),l(3),h(t.name),l(2),h(t.department||"Geral"),l(2),h(t.score)}}function vt(n,s){n&1&&(e(0,"div",77),a(1," Ainda n\xE3o h\xE1 pontua\xE7\xF5es registradas. "),o())}function bt(n,s){if(n&1&&(e(0,"div",78)(1,"div",79),a(2),o(),e(3,"div",80),a(4," VC"),o(),e(5,"div",73)(6,"div",10),a(7,"Voc\xEA"),o(),e(8,"div",81),a(9,"Sua pontua\xE7\xE3o"),o()(),e(10,"div",76),a(11),o()()),n&2){let t=M();l(2),h(t.myStats.rank||"-"),l(9),h(t.myStats.score)}}var Ge=(()=>{class n{authService;quizzesService;gamificationService;router;quizzes=[];leaderboard=[];myStats=null;heroStats=null;userName="Colaborador";userRole="Employee";constructor(t,i,r,d){this.authService=t,this.quizzesService=i,this.gamificationService=r,this.router=d}ngOnInit(){this.loadQuizzes(),this.loadGamification();let t=this.authService.getToken();if(console.log("Dashboard Token:",t),t){let i=this.authService.decodeToken(t);console.log("Decoded Token:",i),i&&(this.userName=i.name||"Colaborador",this.userRole=i.role==="MANAGER"?"Gestor":"Colaborador")}}loadQuizzes(){this.quizzesService.getQuizzes().subscribe(t=>{let i=t.map(r=>this.quizzesService.getAttempt(r.id).toPromise().then(d=>({quiz:r,alreadyPassed:d?.passed===!0})).catch(()=>({quiz:r,alreadyPassed:!1})));Promise.all(i).then(r=>{this.quizzes=r.filter(d=>!d.alreadyPassed).map(d=>d.quiz)})})}loadGamification(){this.gamificationService.getLeaderboard().subscribe(t=>{this.leaderboard=t}),this.gamificationService.getMyStats().subscribe(t=>{this.heroStats=t,this.myStats=t,this.myStats&&this.myStats.rank&&this.myStats.rank<=this.leaderboard.length&&(this.myStats=null)})}logout(){this.authService.logout(),this.router.navigate(["/login"])}startQuiz(t){this.router.navigate(["/quiz",t])}viewInitiatives(){let t=document.getElementById("quizzes-section");t&&t.scrollIntoView({behavior:"smooth"})}static \u0275fac=function(i){return new(i||n)(g(y),g(ze),g(Qe),g(E))};static \u0275cmp=U({type:n,selectors:[["app-employee-dashboard"]],decls:68,vars:12,consts:[[1,"min-h-screen","bg-surface-main"],[1,"sticky","top-0","z-50","bg-white/90","backdrop-blur-lg","border-b","border-gray-200"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","h-18","py-3"],[1,"flex","items-center","gap-4"],["src","/logo.png","alt","Unilever Logo",1,"h-8","w-auto"],[1,"hidden","md:block","h-6","w-px","bg-gray-200"],[1,"text-[#101c4f]","font-semibold","hidden","md:block"],[1,"flex","items-center","gap-6"],[1,"hidden","md:flex","flex-col","items-end","mr-2"],[1,"text-sm","font-bold","text-[#101c4f]"],[1,"text-xs","text-[#64748b]"],[1,"h-10","w-10","bg-gradient-to-br","from-[#1F36C7]","to-[#4B5FD9]","rounded-full","flex","items-center","justify-center","text-white","font-bold","shadow-lg","shadow-blue-500/20"],[1,"text-gray-400","hover:text-red-500","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],[1,"page-container"],[1,"relative","rounded-2xl","overflow-hidden","bg-white","border","border-slate-200","text-slate-800","p-8","md:p-12","mb-8","shadow-xl"],[1,"absolute","inset-0","bg-pattern-organic","opacity-5"],[1,"absolute","top-0","right-0","w-[500px]","h-[500px]","bg-[#1F36C7]","rounded-full","blur-[100px]","opacity-10","translate-x-1/3","-translate-y-1/3"],[1,"absolute","bottom-0","left-0","w-[400px]","h-[400px]","bg-[#37b789]","rounded-full","blur-[80px]","opacity-10","-translate-x-1/3","translate-y-1/3"],[1,"relative","z-10","md:flex","items-center","justify-between"],[1,"mb-6","md:mb-0","max-w-2xl"],[1,"text-3xl","md:text-4xl","font-bold","mb-4","tracking-tight","text-[#101c4f]"],[1,"text-slate-500","text-lg","leading-relaxed"],[1,"flex","gap-4"],[1,"text-center","p-4","bg-slate-50","backdrop-blur-sm","rounded-xl","border","border-slate-200"],[1,"text-3xl","font-bold","text-[#37b789]"],[1,"text-xs","text-slate-500","uppercase","tracking-wide"],[1,"text-3xl","font-bold","text-[#FF6B6B]"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-8"],[1,"lg:col-span-2","space-y-8"],["id","quizzes-section",1,"flex","items-center","justify-between"],[1,"section-title","mb-0"],[1,"flex","gap-2"],[1,"badge","badge-blue"],[1,"badge","badge-green"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["class","card group cursor-pointer hover:border-[#1F36C7] overflow-hidden flex flex-col h-full",4,"ngFor","ngForOf"],["class","col-span-full card p-12 text-center border-dashed border-2 border-slate-200 shadow-none",4,"ngIf"],[1,"space-y-6"],[1,"card","overflow-hidden"],[1,"p-4","border-b","border-gray-100","flex","items-center","justify-between","bg-white"],[1,"font-bold","text-[#101c4f]","flex","items-center","gap-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-yellow-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"],[1,"text-xs","font-semibold","text-slate-400","bg-slate-100","px-2","py-1","rounded"],[1,"divide-y","divide-gray-50"],["class","p-3 flex items-center hover:bg-slate-50 transition-colors",4,"ngFor","ngForOf"],["class","p-6 text-center text-slate-400 text-sm",4,"ngIf"],["class","p-3 bg-blue-50 border-l-4 border-l-[#1F36C7] flex items-center",4,"ngIf"],[1,"card","group","cursor-pointer","hover:border-[#1F36C7]","overflow-hidden","flex","flex-col","h-full"],[1,"h-2","bg-gradient-to-r","from-[#1F36C7]","to-[#00A6CE]"],[1,"p-6","flex-1","flex","flex-col"],[1,"flex","justify-between","items-start","mb-4"],[1,"text-xs","font-semibold","text-slate-400","flex","items-center","gap-1"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-xl","font-bold","text-[#101c4f]","mb-3","group-hover:text-[#1F36C7]","transition-colors"],[1,"text-slate-500","text-sm","mb-6","flex-1"],[1,"mt-auto"],[1,"flex","items-center","justify-center","text-sm","text-slate-500","mb-4","bg-slate-50","p-3","rounded-lg"],[1,"text-slate-700"],[1,"btn","btn-primary","w-full","shadow-lg","shadow-blue-500/10",3,"click"],[1,"col-span-full","card","p-12","text-center","border-dashed","border-2","border-slate-200","shadow-none"],[1,"w-16","h-16","mx-auto","bg-slate-50","rounded-full","flex","items-center","justify-center","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-slate-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"],[1,"text-lg","font-semibold","text-slate-700"],[1,"text-slate-500"],[1,"p-3","flex","items-center","hover:bg-slate-50","transition-colors"],[1,"w-8","font-bold","text-center"],[1,"w-8","h-8","rounded-full","flex","items-center","justify-center","text-xs","font-bold","mr-3"],[1,"flex-1"],[1,"text-sm","font-semibold","text-[#101c4f]"],[1,"text-xs","text-slate-400"],[1,"text-sm","font-bold","text-[#1F36C7]"],[1,"p-6","text-center","text-slate-400","text-sm"],[1,"p-3","bg-blue-50","border-l-4","border-l-[#1F36C7]","flex","items-center"],[1,"w-8","font-bold","text-center","text-[#1F36C7]"],[1,"w-8","h-8","rounded-full","bg-[#1F36C7]","text-white","flex","items-center","justify-center","text-xs","font-bold","mr-3"],[1,"text-xs","text-blue-400"]],template:function(i,r){i&1&&(e(0,"div",0)(1,"nav",1)(2,"div",2)(3,"div",3)(4,"div",4),m(5,"img",5)(6,"div",6),e(7,"span",7),a(8,"Portal de Conhecimento"),o()(),e(9,"div",8)(10,"div",9)(11,"span",10),a(12),o(),e(13,"span",11),a(14),o()(),e(15,"div",12),a(16),o(),e(17,"button",13),A("click",function(){return r.logout()}),c(),e(18,"svg",14),m(19,"path",15),o()()()()()(),u(),e(20,"main",16)(21,"div",17),m(22,"div",18)(23,"div",19)(24,"div",20),e(25,"div",21)(26,"div",22)(27,"h1",23),a(28,"Sua jornada de aprendizado continua aqui."),o(),e(29,"p",24),a(30," Expanda seus horizontes com novos quizzes sobre sustentabilidade e inova\xE7\xE3o. Cada quiz completado aproxima voc\xEA de novas conquistas. "),o()(),e(31,"div",25)(32,"div",26)(33,"div",27),a(34),o(),e(35,"div",28),a(36,"Quizzes"),o()(),e(37,"div",26)(38,"div",29),a(39),o(),e(40,"div",28),a(41,"Pontos"),o()()()()(),e(42,"div",30)(43,"div",31)(44,"div",32)(45,"h2",33),a(46,"Dispon\xEDveis para voc\xEA"),o(),e(47,"div",34)(48,"span",35),a(49),o(),e(50,"span",36),a(51,"Recomendados"),o()()(),e(52,"div",37),b(53,ft,22,3,"div",38)(54,gt,8,0,"div",39),o()(),e(55,"div",40)(56,"div",41)(57,"div",42)(58,"h3",43),c(),e(59,"svg",44),m(60,"path",45),o(),a(61," Ranking Geral "),o(),u(),e(62,"span",46),a(63),o()(),e(64,"div",47),b(65,ht,12,21,"div",48)(66,vt,2,0,"div",49)(67,bt,12,2,"div",50),o()()()()()()),i&2&&(l(12),v("Ol\xE1, ",r.userName),l(2),h(r.userRole),l(2),v(" ",r.userName.charAt(0)," "),l(18),h((r.heroStats==null?null:r.heroStats.quizzesTaken)||0),l(5),h((r.heroStats==null?null:r.heroStats.score)||0),l(10),v("Novos: ",r.quizzes.length),l(4),p("ngForOf",r.quizzes),l(),p("ngIf",r.quizzes.length===0),l(9),v("Top ",r.leaderboard.length),l(2),p("ngForOf",r.leaderboard),l(),p("ngIf",r.leaderboard.length===0),l(),p("ngIf",r.myStats))},dependencies:[I,$,_],encapsulation:2})}return n})();var z=(n,s)=>{let t=x(y),i=x(E),r=t.getToken();if(!r)return i.navigate(["/login"]),!1;try{let d=ae(r),f=Date.now()/1e3;if(d.exp<f)return t.logout(),i.navigate(["/login"]),!1;let C=n.data.role;if(C&&d.role!==C)return d.role==="MANAGER"?i.navigate(["/admin"]):i.navigate(["/dashboard"]),!1}catch{return t.logout(),i.navigate(["/login"]),!1}return!0};var He=[{path:"login",component:Le},{path:"register",component:Be},{path:"admin",component:Ve,canActivate:[z],data:{role:"MANAGER"}},{path:"admin/videos",loadComponent:()=>import("./chunk-BYSFEUGC.js").then(n=>n.VideoManagerComponent),canActivate:[z],data:{role:"MANAGER"}},{path:"admin/quizzes",loadComponent:()=>import("./chunk-EQ7TKQQF.js").then(n=>n.QuizListComponent),canActivate:[z],data:{role:"MANAGER"}},{path:"admin/quizzes/create",loadComponent:()=>import("./chunk-ADR4OME2.js").then(n=>n.QuizManagerComponent),canActivate:[z],data:{role:"MANAGER"}},{path:"admin/quizzes/criar",loadComponent:()=>import("./chunk-ADR4OME2.js").then(n=>n.QuizManagerComponent),canActivate:[z],data:{role:"MANAGER"}},{path:"quiz/:id",loadComponent:()=>import("./chunk-NT76NOVW.js").then(n=>n.QuizPlayerComponent),canActivate:[z]},{path:"dashboard",component:Ge,canActivate:[z],data:{role:"EMPLOYEE"}},{path:"",redirectTo:"/login",pathMatch:"full"}];var Ke=(n,s)=>{let i=x(y).getToken();if(i){let r=n.clone({setHeaders:{Authorization:`Bearer ${i}`}});return s(r)}return s(n)};var qe={providers:[Ee({eventCoalescing:!0}),Ie(He,Oe()),Ae(De(),Me([Ke])),je("ngsw-worker.js",{enabled:!ke(),registrationStrategy:"registerWhenStable:30000"})]};var Je=(()=>{class n{title=we("frontend");static \u0275fac=function(i){return new(i||n)};static \u0275cmp=U({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){i&1&&m(0,"router-outlet")},dependencies:[_e],encapsulation:2})}return n})();Fe(Je,qe).catch(n=>console.error(n));
